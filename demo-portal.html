<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brand Portal Demo - Creators Corner</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #0a0a0f;
            --bg-card: #13141a;
            --bg-card-hover: #1a1b23;
            --bg-elevated: #1e1f28;
            --border: rgba(255,255,255,0.08);
            --border-light: rgba(255,255,255,0.12);
            --text-primary: #ffffff;
            --text-secondary: #a0a3b1;
            --text-muted: #6b6e7a;
            --accent: #6366f1;
            --accent-light: #818cf8;
            --accent-glow: rgba(99, 102, 241, 0.25);
            --success: #10b981;
            --success-dim: rgba(16, 185, 129, 0.15);
            --warning: #f59e0b;
            --warning-dim: rgba(245, 158, 11, 0.15);
            --error: #ef4444;
            --gradient-1: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            --gradient-2: linear-gradient(135deg, #3b82f6 0%, #6366f1 100%);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.5;
        }

        .app-container { display: flex; min-height: 100vh; }
        
        /* Sidebar */
        .sidebar {
            width: 260px;
            background: var(--bg-card);
            border-right: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            position: fixed;
            height: calc(100vh - 40px);
            z-index: 100;
        }

        .logo-section {
            padding: 24px;
            border-bottom: 1px solid var(--border);
        }
        
        .logo-section img { 
            height: 40px;
            width: auto;
        }
        
        .sidebar-brand {
            padding: 20px 24px;
            border-bottom: 1px solid var(--border);
        }
        
        .sidebar-brand-name {
            font-weight: 700;
            font-size: 1.1rem;
            margin-bottom: 4px;
        }
        
        .sidebar-brand-sub {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .nav-menu { 
            flex: 1; 
            padding: 16px;
            overflow-y: auto;
        }
        
        .nav-label {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--text-muted);
            padding: 16px 16px 8px;
            font-weight: 600;
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            border-radius: 10px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 2px;
            font-weight: 500;
            text-decoration: none;
        }
        
        .nav-item:hover { background: var(--bg-elevated); color: var(--text-primary); }
        .nav-item.active { background: var(--accent); color: white; }
        .nav-item .icon { font-size: 1.1rem; width: 24px; text-align: center; }

        .sidebar-footer {
            padding: 16px 24px;
            border-top: 1px solid var(--border);
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: var(--bg-elevated);
            border-radius: 10px;
        }
        
        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: var(--gradient-1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }
        
        .user-name { font-weight: 500; font-size: 0.9rem; }
        .user-role { font-size: 0.75rem; color: var(--text-muted); }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 260px;
            padding: 32px;
            background: radial-gradient(ellipse at top, #12131a 0%, var(--bg-dark) 60%);
        }

        .page-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 32px;
        }
        
        .page-title {
            font-size: 1.75rem;
            font-weight: 700;
        }
        
        .page-subtitle {
            color: var(--text-muted);
            font-size: 0.9rem;
            margin-top: 4px;
        }

        .date-range-display {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 10px 16px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 32px;
        }

        .stat-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 24px;
            transition: all 0.3s;
        }
        
        .stat-card:hover {
            border-color: var(--border-light);
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }
        
        .stat-card.featured {
            background: var(--gradient-1);
            border: none;
        }
        
        .stat-card.featured .stat-label { color: rgba(255,255,255,0.8); }
        
        .stat-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            background: var(--bg-elevated);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 16px;
        }
        
        .stat-card.featured .stat-icon { background: rgba(255,255,255,0.2); }
        
        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 4px;
        }
        
        .stat-label {
            color: var(--text-muted);
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        .stat-change {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            font-size: 0.8rem;
            font-weight: 600;
            padding: 4px 8px;
            border-radius: 6px;
            margin-top: 8px;
        }
        
        .stat-change.up { background: var(--success-dim); color: var(--success); }
        .stat-change.down { background: rgba(239, 68, 68, 0.15); color: var(--error); }

        /* GMV Breakdown Card */
        .breakdown-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 32px;
        }
        
        .breakdown-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 20px;
        }
        
        .breakdown-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }
        
        .breakdown-item {
            background: var(--bg-elevated);
            border-radius: 12px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 16px;
        }
        
        .breakdown-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        .breakdown-icon.managed { background: var(--success-dim); }
        .breakdown-icon.unmanaged { background: var(--warning-dim); }
        
        .breakdown-stat-value {
            font-size: 1.5rem;
            font-weight: 700;
        }
        
        .breakdown-stat-label {
            font-size: 0.85rem;
            color: var(--text-muted);
        }
        
        .breakdown-pct {
            margin-left: auto;
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-secondary);
        }

        /* Charts Section */
        .charts-section {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 24px;
            margin-bottom: 32px;
        }

        .chart-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 24px;
            transition: all 0.3s;
        }
        
        .chart-card:hover {
            border-color: var(--border-light);
        }
        
        .chart-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 24px;
        }
        
        .chart-title {
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        .chart-container {
            height: 300px;
            position: relative;
        }

        /* Lists Section */
        .lists-section {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 24px;
            margin-bottom: 32px;
        }

        .list-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 24px;
        }
        
        .list-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        
        .list-title {
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        .list-action {
            color: var(--accent);
            font-size: 0.85rem;
            cursor: pointer;
            font-weight: 500;
        }
        
        .list-action:hover { text-decoration: underline; }

        /* Creator Row */
        .creator-row {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 14px;
            background: var(--bg-elevated);
            border-radius: 10px;
            margin-bottom: 10px;
            transition: all 0.2s;
            cursor: pointer;
            border: 1px solid transparent;
        }
        
        .creator-row:hover { 
            background: var(--bg-card-hover); 
            border-color: var(--border-light);
            transform: translateX(4px);
        }
        .creator-row:last-child { margin-bottom: 0; }
        
        .creator-rank {
            width: 28px;
            height: 28px;
            border-radius: 8px;
            background: var(--gradient-1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.8rem;
        }
        
        .creator-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--bg-card);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
        }
        
        .creator-info { flex: 1; }
        .creator-name { font-weight: 600; font-size: 0.95rem; }
        .creator-handle { 
            font-size: 0.8rem; 
            color: var(--accent); 
            transition: color 0.2s;
        }
        .creator-row:hover .creator-handle { color: var(--accent-light); }
        
        .creator-gmv {
            text-align: right;
        }
        
        .creator-gmv-value {
            font-weight: 700;
            color: var(--success);
        }
        
        .creator-gmv-label {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        /* Product Row */
        .product-row {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 14px;
            background: var(--bg-elevated);
            border-radius: 10px;
            margin-bottom: 10px;
        }
        
        .product-row:last-child { margin-bottom: 0; }
        
        .product-img {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            background: var(--bg-card);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        .product-info { flex: 1; }
        .product-name { font-weight: 600; font-size: 0.95rem; margin-bottom: 2px; }
        .product-sku { font-size: 0.8rem; color: var(--text-muted); }
        
        .product-stats { text-align: right; }
        .product-gmv { font-weight: 700; color: var(--success); }
        .product-orders { font-size: 0.8rem; color: var(--text-muted); }

        /* Video Row */
        .video-row {
            display: flex;
            gap: 14px;
            padding: 14px;
            background: var(--bg-elevated);
            border-radius: 10px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid transparent;
        }
        
        .video-row:hover {
            background: var(--bg-card-hover);
            border-color: var(--border-light);
            transform: translateX(4px);
        }
        
        .video-row:last-child { margin-bottom: 0; }
        
        .video-thumb {
            width: 80px;
            height: 100px;
            border-radius: 8px;
            background: linear-gradient(135deg, var(--accent) 0%, #8b5cf6 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            position: relative;
            overflow: hidden;
        }
        
        .video-thumb::before {
            content: '';
            position: absolute;
            inset: 0;
            background: rgba(0,0,0,0);
            transition: background 0.2s;
        }
        
        .video-row:hover .video-thumb::before {
            background: rgba(0,0,0,0.2);
        }
        
        .video-play {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            transition: transform 0.2s, background 0.2s;
            z-index: 1;
        }
        
        .video-row:hover .video-play {
            transform: scale(1.1);
            background: rgba(255,255,255,0.3);
        }
        
        .video-info { flex: 1; min-width: 0; }
        .video-creator { font-weight: 600; font-size: 0.9rem; margin-bottom: 4px; }
        .video-date { font-size: 0.8rem; color: var(--text-muted); margin-bottom: 8px; }
        
        .video-stats {
            display: flex;
            gap: 16px;
        }
        
        .video-stat-value { font-weight: 700; font-size: 0.9rem; }
        .video-stat-label { font-size: 0.7rem; color: var(--text-muted); }

        /* Tab Panels */
        .tab-panel { display: none; }
        .tab-panel.active { display: block; }

        /* Data Tables */
        .data-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .data-table th {
            text-align: left;
            padding: 14px 16px;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--text-muted);
            border-bottom: 1px solid var(--border);
        }
        
        .data-table td {
            padding: 16px;
            border-bottom: 1px solid var(--border);
        }
        
        .data-table tbody tr:hover { background: var(--bg-elevated); }

        .badge {
            display: inline-flex;
            align-items: center;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        .badge-success { background: var(--success-dim); color: var(--success); }
        .badge-warning { background: var(--warning-dim); color: var(--warning); }
        .badge-primary { background: rgba(99, 102, 241, 0.15); color: var(--accent-light); }

        /* Demo Banner */
        .demo-banner {
            background: linear-gradient(90deg, var(--warning) 0%, #f97316 100%);
            color: #000;
            text-align: center;
            padding: 10px;
            font-weight: 600;
            font-size: 0.85rem;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }

        .app-container { margin-top: 40px; }
        .sidebar { top: 40px; height: calc(100vh - 40px); }

        /* Responsive */
        @media (max-width: 1200px) {
            .stats-grid { grid-template-columns: repeat(2, 1fr); }
            .charts-section { grid-template-columns: 1fr; }
            .lists-section { grid-template-columns: 1fr; }
        }

        @media (max-width: 768px) {
            .sidebar { display: none; }
            .main-content { margin-left: 0; }
            .stats-grid { grid-template-columns: 1fr; }
            .breakdown-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="demo-banner">üìä DEMO MODE - Sample data for demonstration purposes only</div>

    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo-section">
                <img src="logos/creators-corner-light.svg" alt="Creators Corner" onerror="this.src='logo.png'">
            </div>
            
            <div class="sidebar-brand">
                <div class="sidebar-brand-name" id="brandName">Brand Name</div>
                <div class="sidebar-brand-sub">Partner Dashboard</div>
            </div>

            <nav class="nav-menu">
                <div class="nav-label">Analytics</div>
                <a class="nav-item active" onclick="switchTab('overview')" href="#">
                    <span class="icon">üìä</span> Overview
                </a>
                <a class="nav-item" onclick="switchTab('creators')" href="#">
                    <span class="icon">üë•</span> Creators
                </a>
                <a class="nav-item" onclick="switchTab('videos')" href="#">
                    <span class="icon">üé¨</span> Top Videos
                </a>
                <a class="nav-item" onclick="switchTab('products')" href="#">
                    <span class="icon">üì¶</span> Products
                </a>
                
                <div class="nav-label">Finance</div>
                <a class="nav-item" onclick="switchTab('financials')" href="#">
                    <span class="icon">üí∞</span> Financials
                </a>
                
                <div class="nav-label">Resources</div>
                <a class="nav-item" onclick="switchTab('resources')" href="#">
                    <span class="icon">üìö</span> Brand Assets
                </a>
                <a class="nav-item" onclick="switchTab('support')" href="#">
                    <span class="icon">üí¨</span> Support
                </a>
            </nav>

            <div class="sidebar-footer">
                <div class="user-info">
                    <div class="user-avatar" id="userInitial">B</div>
                    <div>
                        <div class="user-name" id="userName">Brand Owner</div>
                        <div class="user-role">Brand Partner</div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Overview Tab -->
            <div class="tab-panel active" id="tab-overview">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Performance Overview</h1>
                        <p class="page-subtitle">Your TikTok Shop analytics at a glance</p>
                    </div>
                    <div style="display: flex; gap: 12px; align-items: center;">
                        <select class="date-range-display" id="dateRangeSelect" onchange="changeDateRange(this.value)" style="cursor: pointer; background: var(--bg-card); color: var(--text-primary); border: 1px solid var(--border); padding: 10px 16px; border-radius: 10px; font-size: 0.9rem;">
                            <option value="7">Last 7 Days</option>
                            <option value="30" selected>Last 30 Days</option>
                            <option value="90">Last 90 Days</option>
                        </select>
                        <button onclick="alert('Demo: This would export data to CSV')" style="padding: 10px 16px; background: var(--bg-card); border: 1px solid var(--border); border-radius: 10px; color: var(--text-secondary); cursor: pointer; font-size: 0.9rem; display: flex; align-items: center; gap: 8px; transition: all 0.2s;">
                            <span>üì•</span> Export
                        </button>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card featured">
                        <div class="stat-icon">üí∞</div>
                        <div class="stat-value" id="statGmv">$0</div>
                        <div class="stat-label">Total GMV</div>
                        <div class="stat-change up" id="changeGmv">‚Üë 0%</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üì¶</div>
                        <div class="stat-value" id="statOrders">0</div>
                        <div class="stat-label">Orders</div>
                        <div class="stat-change up" id="changeOrders">‚Üë 0%</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üë•</div>
                        <div class="stat-value" id="statCreators">0</div>
                        <div class="stat-label">Active Creators</div>
                        <div class="stat-change up" id="changeCreators">‚Üë 0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üé¨</div>
                        <div class="stat-value" id="statVideos">0</div>
                        <div class="stat-label">Videos Posted</div>
                        <div class="stat-change up" id="changeVideos">‚Üë 0%</div>
                    </div>
                </div>

                <div class="breakdown-card">
                    <h3 class="breakdown-title">üìä GMV Breakdown</h3>
                    <div class="breakdown-grid">
                        <div class="breakdown-item">
                            <div class="breakdown-icon managed">‚úÖ</div>
                            <div>
                                <div class="breakdown-stat-value" id="managedGmv">$0</div>
                                <div class="breakdown-stat-label">Managed Creators</div>
                            </div>
                            <div class="breakdown-pct" id="managedPct">0%</div>
                        </div>
                        <div class="breakdown-item">
                            <div class="breakdown-icon unmanaged">üåê</div>
                            <div>
                                <div class="breakdown-stat-value" id="unmanagedGmv">$0</div>
                                <div class="breakdown-stat-label">Organic/Unmanaged</div>
                            </div>
                            <div class="breakdown-pct" id="unmanagedPct">0%</div>
                        </div>
                    </div>
                </div>

                <div class="charts-section">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">üìà GMV Trend</h3>
                        </div>
                        <div class="chart-container">
                            <canvas id="gmvChart"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">üé¨ Top Videos</h3>
                            <span class="list-action" onclick="switchTab('videos')">View All ‚Üí</span>
                        </div>
                        <div id="topVideosPreview"></div>
                    </div>
                </div>

                <div class="lists-section">
                    <div class="list-card">
                        <div class="list-header">
                            <h3 class="list-title">üåü Top Creators</h3>
                            <span class="list-action" onclick="switchTab('creators')">View All ‚Üí</span>
                        </div>
                        <div id="topCreatorsList"></div>
                    </div>
                    <div class="list-card">
                        <div class="list-header">
                            <h3 class="list-title">üî• Hot Products</h3>
                            <span class="list-action" onclick="switchTab('products')">View All ‚Üí</span>
                        </div>
                        <div id="topProductsList"></div>
                    </div>
                </div>
            </div>

            <!-- Creators Tab -->
            <div class="tab-panel" id="tab-creators">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">üë• Creator Roster</h1>
                        <p class="page-subtitle">All creators driving sales for your brand</p>
                    </div>
                </div>
                
                <div class="stats-grid" style="grid-template-columns: repeat(5, 1fr); margin-bottom: 24px;">
                    <div class="stat-card" style="padding: 16px;">
                        <div class="stat-value" style="font-size: 1.5rem;" id="cStatTotal">0</div>
                        <div class="stat-label">Total</div>
                    </div>
                    <div class="stat-card" style="padding: 16px;">
                        <div class="stat-value" style="font-size: 1.5rem; color: var(--success);" id="cStatActive">0</div>
                        <div class="stat-label">Active</div>
                    </div>
                    <div class="stat-card" style="padding: 16px;">
                        <div class="stat-value" style="font-size: 1.5rem; color: var(--accent);" id="cStatElite">0</div>
                        <div class="stat-label">Elite</div>
                    </div>
                    <div class="stat-card" style="padding: 16px;">
                        <div class="stat-value" style="font-size: 1.5rem; color: var(--warning);" id="cStatPartner">0</div>
                        <div class="stat-label">Partner</div>
                    </div>
                    <div class="stat-card" style="padding: 16px;">
                        <div class="stat-value" style="font-size: 1.5rem;" id="cStatIncubator">0</div>
                        <div class="stat-label">Incubator</div>
                    </div>
                </div>

                <div class="list-card">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Creator</th>
                                <th>Tier</th>
                                <th>Status</th>
                                <th>Videos</th>
                                <th>GMV</th>
                                <th>Orders</th>
                            </tr>
                        </thead>
                        <tbody id="creatorsTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- Videos Tab -->
            <div class="tab-panel" id="tab-videos">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">üé¨ Top Videos</h1>
                        <p class="page-subtitle">Best performing content from your creators</p>
                    </div>
                </div>
                <div id="videosGrid"></div>
            </div>

            <!-- Products Tab -->
            <div class="tab-panel" id="tab-products">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">üì¶ Product Performance</h1>
                        <p class="page-subtitle">Sales breakdown by product</p>
                    </div>
                </div>
                <div class="list-card">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Product</th>
                                <th>GMV</th>
                                <th>Orders</th>
                                <th>Avg Order</th>
                                <th>Top Creator</th>
                            </tr>
                        </thead>
                        <tbody id="productsTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- Financials Tab -->
            <div class="tab-panel" id="tab-financials">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">üí∞ Monthly Financials</h1>
                        <p class="page-subtitle" id="financialsSubtitle">December 2024 billing summary</p>
                    </div>
                    <div style="display: flex; gap: 12px; align-items: center;">
                        <select id="monthSelect" onchange="updateFinancialsMonth(this.value)" style="cursor: pointer; background: var(--bg-card); color: var(--text-primary); border: 1px solid var(--border); padding: 10px 16px; border-radius: 10px; font-size: 0.9rem;">
                            <option value="2024-12" selected>December 2024</option>
                            <option value="2024-11">November 2024</option>
                            <option value="2024-10">October 2024</option>
                            <option value="2024-09">September 2024</option>
                        </select>
                        <button onclick="alert('Demo: This would download the invoice PDF')" style="padding: 10px 16px; background: var(--accent); border: none; border-radius: 10px; color: white; cursor: pointer; font-size: 0.9rem; display: flex; align-items: center; gap: 8px; font-weight: 600;">
                            <span>üìÑ</span> Download Invoice
                        </button>
                    </div>
                </div>

                <!-- Summary Cards -->
                <div class="stats-grid" style="grid-template-columns: repeat(4, 1fr); margin-bottom: 24px;">
                    <div class="stat-card">
                        <div class="stat-icon">üë•</div>
                        <div class="stat-value" id="finRetainerSpend">$0</div>
                        <div class="stat-label">Retainer Spend</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üí∏</div>
                        <div class="stat-value" id="finCommissions">$0</div>
                        <div class="stat-label">Commissions (10%)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üéØ</div>
                        <div class="stat-value" id="finManagementFee">$0</div>
                        <div class="stat-label">Management Fee</div>
                    </div>
                    <div class="stat-card featured">
                        <div class="stat-icon">üí∞</div>
                        <div class="stat-value" id="finTotalDue">$0</div>
                        <div class="stat-label">Total Due</div>
                    </div>
                </div>

                <!-- ROI Summary -->
                <div class="breakdown-card" style="margin-bottom: 24px;">
                    <h3 class="breakdown-title">üìà Return on Investment</h3>
                    <div class="breakdown-grid">
                        <div class="breakdown-item">
                            <div class="breakdown-icon managed">üí∞</div>
                            <div>
                                <div class="breakdown-stat-value" id="finTotalGmv">$0</div>
                                <div class="breakdown-stat-label">Total GMV Generated</div>
                            </div>
                        </div>
                        <div class="breakdown-item">
                            <div class="breakdown-icon" style="background: rgba(99, 102, 241, 0.15);">üìä</div>
                            <div>
                                <div class="breakdown-stat-value" id="finRoi" style="color: var(--success);">0x</div>
                                <div class="breakdown-stat-label">ROI on Retainer Spend</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Retainer Breakdown Table -->
                <div class="list-card">
                    <div class="list-header">
                        <h3 class="list-title">üë• Retainer Breakdown</h3>
                        <span class="list-action" onclick="alert('Demo: Export retainer report')">Export CSV ‚Üí</span>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Creator</th>
                                <th>Tier</th>
                                <th>Monthly Retainer</th>
                                <th>GMV Generated</th>
                                <th>ROI</th>
                            </tr>
                        </thead>
                        <tbody id="retainerTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- Resources Tab -->
            <div class="tab-panel" id="tab-resources">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">üìö Brand Assets</h1>
                        <p class="page-subtitle">Resources for your creator team</p>
                    </div>
                </div>
                <div class="stats-grid" style="grid-template-columns: repeat(3, 1fr);">
                    <div class="stat-card" style="cursor: pointer;" onclick="alert('Demo: This would download the brand guidelines PDF')">
                        <div class="stat-icon">üìã</div>
                        <div class="stat-value" style="font-size: 1.2rem;">Brand Guidelines</div>
                        <div class="stat-label">Logo usage, colors, fonts</div>
                    </div>
                    <div class="stat-card" style="cursor: pointer;" onclick="alert('Demo: This would download product images')">
                        <div class="stat-icon">üñºÔ∏è</div>
                        <div class="stat-value" style="font-size: 1.2rem;">Product Images</div>
                        <div class="stat-label">High-res photos & mockups</div>
                    </div>
                    <div class="stat-card" style="cursor: pointer;" onclick="alert('Demo: This would download video templates')">
                        <div class="stat-icon">üé¨</div>
                        <div class="stat-value" style="font-size: 1.2rem;">Video Templates</div>
                        <div class="stat-label">Hooks, scripts & overlays</div>
                    </div>
                </div>
                <div class="list-card" style="margin-top: 24px;">
                    <div class="list-header">
                        <h3 class="list-title">üìå Talking Points</h3>
                    </div>
                    <div style="padding: 16px; background: var(--bg-elevated); border-radius: 10px; margin-bottom: 12px;">
                        <div style="font-weight: 600; margin-bottom: 8px;">‚úÖ Key Benefits to Highlight</div>
                        <ul style="color: var(--text-secondary); margin-left: 20px; line-height: 1.8;">
                            <li>Premium quality ingredients</li>
                            <li>Third-party tested & verified</li>
                            <li>Fast shipping with TikTok Shop</li>
                            <li>30-day money back guarantee</li>
                        </ul>
                    </div>
                    <div style="padding: 16px; background: var(--bg-elevated); border-radius: 10px;">
                        <div style="font-weight: 600; margin-bottom: 8px;">üéØ Content Ideas</div>
                        <ul style="color: var(--text-secondary); margin-left: 20px; line-height: 1.8;">
                            <li>Morning routine featuring product</li>
                            <li>Before/after transformation</li>
                            <li>Unboxing & first impressions</li>
                            <li>Day in the life integration</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Support Tab -->
            <div class="tab-panel" id="tab-support">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">üí¨ Support</h1>
                        <p class="page-subtitle">Get help from your Creators Corner team</p>
                    </div>
                </div>
                <div class="stats-grid" style="grid-template-columns: repeat(2, 1fr);">
                    <div class="list-card">
                        <div class="list-header">
                            <h3 class="list-title">üë§ Your Account Manager</h3>
                        </div>
                        <div style="display: flex; align-items: center; gap: 16px; padding: 20px; background: var(--bg-elevated); border-radius: 12px;">
                            <div style="width: 64px; height: 64px; border-radius: 50%; background: var(--gradient-1); display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">üë®‚Äçüíº</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 700; font-size: 1.1rem;">Matt Wilson</div>
                                <div style="color: var(--text-muted); font-size: 0.9rem;">Partner Success Manager</div>
                                <div style="margin-top: 8px; display: flex; gap: 8px;">
                                    <a href="#" onclick="alert('Demo: This would open email')" style="padding: 6px 12px; background: var(--accent); color: white; border-radius: 6px; font-size: 0.8rem; text-decoration: none;">üìß Email</a>
                                    <a href="#" onclick="alert('Demo: This would open Discord')" style="padding: 6px 12px; background: #5865F2; color: white; border-radius: 6px; font-size: 0.8rem; text-decoration: none;">üí¨ Discord</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="list-card">
                        <div class="list-header">
                            <h3 class="list-title">‚ùì Quick Help</h3>
                        </div>
                        <div style="display: grid; gap: 10px;">
                            <a href="#" onclick="alert('Demo: FAQ page')" style="display: flex; align-items: center; gap: 12px; padding: 14px; background: var(--bg-elevated); border-radius: 10px; color: var(--text-primary); text-decoration: none; transition: all 0.2s;">
                                <span>üìñ</span> <span>FAQ & Common Questions</span>
                                <span style="margin-left: auto; color: var(--text-muted);">‚Üí</span>
                            </a>
                            <a href="#" onclick="alert('Demo: TikTok Shop guide')" style="display: flex; align-items: center; gap: 12px; padding: 14px; background: var(--bg-elevated); border-radius: 10px; color: var(--text-primary); text-decoration: none; transition: all 0.2s;">
                                <span>üõçÔ∏è</span> <span>TikTok Shop Setup Guide</span>
                                <span style="margin-left: auto; color: var(--text-muted);">‚Üí</span>
                            </a>
                            <a href="#" onclick="alert('Demo: Payment info')" style="display: flex; align-items: center; gap: 12px; padding: 14px; background: var(--bg-elevated); border-radius: 10px; color: var(--text-primary); text-decoration: none; transition: all 0.2s;">
                                <span>üí≥</span> <span>Payment & Commission Info</span>
                                <span style="margin-left: auto; color: var(--text-muted);">‚Üí</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // ==================== CONFIGURATION ====================
        const BRAND_CONFIG = {
            toplux: {
                name: 'Toplux Nutrition',
                owner: 'Toplux Team',
                color: '#10b981',
                products: [
                    { name: 'Premium Whey Protein', sku: 'TWP-001', emoji: 'üí™' },
                    { name: 'BCAA Recovery Formula', sku: 'TBR-002', emoji: '‚ö°' },
                    { name: 'Pre-Workout Ignite', sku: 'TPI-003', emoji: 'üî•' },
                    { name: 'Creatine Monohydrate', sku: 'TCM-004', emoji: 'üèãÔ∏è' },
                    { name: 'Collagen Peptides', sku: 'TCP-005', emoji: '‚ú®' }
                ],
                baseGmv: 45000,
                growthRate: 0.18,
                creatorCount: 42
            },
            catakor: {
                name: 'Cata-Kor',
                owner: 'Cata-Kor Team',
                color: '#6366f1',
                products: [
                    { name: 'Joint Support Complex', sku: 'CKJ-001', emoji: 'ü¶¥' },
                    { name: 'Turmeric Curcumin', sku: 'CKT-002', emoji: 'üåø' },
                    { name: 'Omega-3 Fish Oil', sku: 'CKO-003', emoji: 'üêü' },
                    { name: 'Vitamin D3 + K2', sku: 'CKV-004', emoji: '‚òÄÔ∏è' },
                    { name: 'Magnesium Glycinate', sku: 'CKM-005', emoji: 'üíä' }
                ],
                baseGmv: 125000,
                growthRate: 0.12,
                creatorCount: 156
            },
            jiyu: {
                name: 'JiYu',
                owner: 'JiYu Team',
                color: '#8b5cf6',
                products: [
                    { name: 'NAD+ Face Cream', sku: 'JYN-001', emoji: '‚ú®' },
                    { name: 'Retinol Serum', sku: 'JYR-002', emoji: 'üíß' },
                    { name: 'Vitamin C Brightening', sku: 'JYV-003', emoji: 'üçä' },
                    { name: 'Hyaluronic Acid', sku: 'JYH-004', emoji: 'üíé' },
                    { name: 'Peptide Eye Cream', sku: 'JYP-005', emoji: 'üëÅÔ∏è' }
                ],
                baseGmv: 78000,
                growthRate: 0.22,
                creatorCount: 89
            },
            physicians_choice: {
                name: 'Physicians Choice',
                owner: 'PC Team',
                color: '#3b82f6',
                products: [
                    { name: 'Probiotics 60B CFU', sku: 'PCP-001', emoji: 'ü¶†' },
                    { name: 'Digestive Enzymes', sku: 'PCD-002', emoji: 'ü´É' },
                    { name: 'Fiber Supplement', sku: 'PCF-003', emoji: 'üåæ' },
                    { name: 'Colon Cleanse', sku: 'PCC-004', emoji: 'üíö' },
                    { name: 'Organic Greens', sku: 'PCG-005', emoji: 'ü•¨' }
                ],
                baseGmv: 215000,
                growthRate: 0.08,
                creatorCount: 234
            },
            peach_slices: {
                name: 'Peach Slices',
                owner: 'Peach Team',
                color: '#f472b6',
                products: [
                    { name: 'Acne Spot Dots', sku: 'PSA-001', emoji: 'üçë' },
                    { name: 'Oil Control Cleanser', sku: 'PSO-002', emoji: 'üß¥' },
                    { name: 'Snail Mucin Serum', sku: 'PSS-003', emoji: 'üêå' },
                    { name: 'Niacinamide Toner', sku: 'PSN-004', emoji: 'üí¶' },
                    { name: 'Pore Strips', sku: 'PSP-005', emoji: '‚ú®' }
                ],
                baseGmv: 95000,
                growthRate: 0.15,
                creatorCount: 112
            },
            yerba_magic: {
                name: 'Yerba Magic',
                owner: 'YM Team',
                color: '#22c55e',
                products: [
                    { name: 'Organic Yerba Mate', sku: 'YMY-001', emoji: 'üßâ' },
                    { name: 'Energy Blend', sku: 'YME-002', emoji: '‚ö°' },
                    { name: 'Mint Refresh', sku: 'YMM-003', emoji: 'üåø' },
                    { name: 'Citrus Sunrise', sku: 'YMC-004', emoji: 'üçä' },
                    { name: 'Pure Unsmoked', sku: 'YMP-005', emoji: 'üçÉ' }
                ],
                baseGmv: 32000,
                growthRate: 0.25,
                creatorCount: 28
            }
        };

        // Get brand from URL or default
        const urlParams = new URLSearchParams(window.location.search);
        const brandKey = urlParams.get('brand') || 'toplux';
        const config = BRAND_CONFIG[brandKey] || BRAND_CONFIG.toplux;

        // ==================== DUMMY DATA GENERATORS ====================
        
        // Seeded random for consistency
        let seed = brandKey.split('').reduce((a, c) => a + c.charCodeAt(0), 0);
        function seededRandom() {
            seed = (seed * 9301 + 49297) % 233280;
            return seed / 233280;
        }

        // Generate creator names
        const FIRST_NAMES = ['Emma', 'Olivia', 'Ava', 'Sophia', 'Isabella', 'Mia', 'Charlotte', 'Amelia', 'Harper', 'Evelyn', 'Liam', 'Noah', 'Oliver', 'James', 'Elijah', 'Lucas', 'Mason', 'Ethan', 'Alexander', 'Henry', 'Jake', 'Sarah', 'Mike', 'Taylor', 'Jordan', 'Casey', 'Morgan', 'Riley', 'Avery', 'Quinn'];
        const LAST_INITIALS = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'J', 'K', 'L', 'M', 'N', 'P', 'R', 'S', 'T', 'V', 'W', 'Z'];

        function generateCreatorName() {
            const first = FIRST_NAMES[Math.floor(seededRandom() * FIRST_NAMES.length)];
            const last = LAST_INITIALS[Math.floor(seededRandom() * LAST_INITIALS.length)];
            return { name: `${first} ${last}.`, handle: `@${first.toLowerCase()}${last.toLowerCase()}${Math.floor(seededRandom() * 99)}` };
        }

        // Generate GMV trend data (30 days)
        function generateGmvTrend() {
            const data = [];
            const labels = [];
            const today = new Date();
            let baseDaily = config.baseGmv / 30;
            
            for (let i = 29; i >= 0; i--) {
                const date = new Date(today);
                date.setDate(date.getDate() - i);
                labels.push(date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }));
                
                // Add natural variance + upward trend
                const dayOfWeek = date.getDay();
                const weekendMultiplier = (dayOfWeek === 0 || dayOfWeek === 6) ? 0.7 : 1.1;
                const trendMultiplier = 1 + (config.growthRate * (29 - i) / 29);
                const variance = 0.7 + (seededRandom() * 0.6);
                
                const dailyGmv = baseDaily * weekendMultiplier * trendMultiplier * variance;
                data.push(Math.round(dailyGmv));
            }
            
            return { labels, data };
        }

        // Generate creators data
        function generateCreators() {
            const creators = [];
            const tiers = ['Elite', 'Partner', 'Partner', 'Incubator', 'Incubator', 'Incubator'];
            
            for (let i = 0; i < config.creatorCount; i++) {
                const { name, handle } = generateCreatorName();
                const tier = tiers[Math.floor(seededRandom() * tiers.length)];
                const tierMultiplier = tier === 'Elite' ? 3 : tier === 'Partner' ? 1.5 : 1;
                
                creators.push({
                    name,
                    handle,
                    tier,
                    status: seededRandom() > 0.15 ? 'Active' : 'Inactive',
                    videos: Math.floor(seededRandom() * 25 * tierMultiplier) + 1,
                    gmv: Math.round((seededRandom() * 5000 + 200) * tierMultiplier),
                    orders: Math.floor(seededRandom() * 150 * tierMultiplier) + 5
                });
            }
            
            return creators.sort((a, b) => b.gmv - a.gmv);
        }

        // Generate products data
        function generateProducts() {
            const products = config.products.map((p, i) => {
                const marketShare = [0.35, 0.25, 0.2, 0.12, 0.08][i] || 0.1;
                const gmv = Math.round(config.baseGmv * marketShare * (0.8 + seededRandom() * 0.4));
                const avgOrder = 25 + Math.floor(seededRandom() * 35);
                return {
                    ...p,
                    gmv,
                    orders: Math.round(gmv / avgOrder),
                    avgOrder,
                    topCreator: generateCreatorName().name
                };
            });
            return products.sort((a, b) => b.gmv - a.gmv);
        }

        // Generate videos data
        function generateVideos() {
            const videos = [];
            const today = new Date();
            
            for (let i = 0; i < 20; i++) {
                const { name, handle } = generateCreatorName();
                const daysAgo = Math.floor(seededRandom() * 30);
                const date = new Date(today);
                date.setDate(date.getDate() - daysAgo);
                
                const gmv = Math.round((seededRandom() * 3000 + 100) * (1 - i * 0.03));
                videos.push({
                    creator: name,
                    handle,
                    date: date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }),
                    views: Math.floor(gmv * (50 + seededRandom() * 100)),
                    gmv,
                    orders: Math.floor(gmv / (20 + seededRandom() * 20))
                });
            }
            
            return videos.sort((a, b) => b.gmv - a.gmv);
        }

        // ==================== DATA ====================
        const gmvTrend = generateGmvTrend();
        const creators = generateCreators();
        const products = generateProducts();
        const videos = generateVideos();

        // Calculate totals
        const totalGmv = gmvTrend.data.reduce((a, b) => a + b, 0);
        const lastWeekGmv = gmvTrend.data.slice(-7).reduce((a, b) => a + b, 0);
        const prevWeekGmv = gmvTrend.data.slice(-14, -7).reduce((a, b) => a + b, 0);
        const gmvGrowth = prevWeekGmv > 0 ? ((lastWeekGmv - prevWeekGmv) / prevWeekGmv * 100).toFixed(1) : 0;

        const totalOrders = products.reduce((a, b) => a + b.orders, 0);
        const totalVideos = creators.reduce((a, b) => a + b.videos, 0);
        const activeCreators = creators.filter(c => c.status === 'Active').length;
        const managedGmv = Math.round(totalGmv * (0.6 + seededRandom() * 0.2));
        const unmanagedGmv = totalGmv - managedGmv;

        // ==================== RENDER FUNCTIONS ====================
        
        function formatCurrency(num) {
            if (num >= 1000000) return '$' + (num / 1000000).toFixed(1) + 'M';
            if (num >= 1000) return '$' + (num / 1000).toFixed(1) + 'K';
            return '$' + num.toLocaleString();
        }

        function formatNumber(num) {
            if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
            if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
            return num.toLocaleString();
        }

        function renderOverview() {
            // Stats
            document.getElementById('statGmv').textContent = formatCurrency(totalGmv);
            document.getElementById('statOrders').textContent = formatNumber(totalOrders);
            document.getElementById('statCreators').textContent = activeCreators;
            document.getElementById('statVideos').textContent = formatNumber(totalVideos);
            
            document.getElementById('changeGmv').textContent = `‚Üë ${gmvGrowth}%`;
            document.getElementById('changeOrders').textContent = `‚Üë ${(parseFloat(gmvGrowth) * 0.8).toFixed(1)}%`;
            document.getElementById('changeCreators').textContent = `‚Üë ${Math.floor(activeCreators * 0.08)}`;
            document.getElementById('changeVideos').textContent = `‚Üë ${(parseFloat(gmvGrowth) * 1.2).toFixed(1)}%`;

            // GMV Breakdown
            document.getElementById('managedGmv').textContent = formatCurrency(managedGmv);
            document.getElementById('unmanagedGmv').textContent = formatCurrency(unmanagedGmv);
            document.getElementById('managedPct').textContent = Math.round(managedGmv / totalGmv * 100) + '%';
            document.getElementById('unmanagedPct').textContent = Math.round(unmanagedGmv / totalGmv * 100) + '%';

            // Top Creators
            const topCreators = creators.slice(0, 5);
            document.getElementById('topCreatorsList').innerHTML = topCreators.map((c, i) => `
                <div class="creator-row" onclick="window.open('https://tiktok.com/${c.handle}', '_blank')">
                    <div class="creator-rank">${i + 1}</div>
                    <div class="creator-avatar">üë§</div>
                    <div class="creator-info">
                        <div class="creator-name">${c.name}</div>
                        <div class="creator-handle">${c.handle} ‚Üó</div>
                    </div>
                    <div class="creator-gmv">
                        <div class="creator-gmv-value">${formatCurrency(c.gmv)}</div>
                        <div class="creator-gmv-label">${c.orders} orders</div>
                    </div>
                </div>
            `).join('');

            // Top Products
            const topProducts = products.slice(0, 5);
            document.getElementById('topProductsList').innerHTML = topProducts.map(p => `
                <div class="product-row">
                    <div class="product-img">${p.emoji}</div>
                    <div class="product-info">
                        <div class="product-name">${p.name}</div>
                        <div class="product-sku">${p.sku}</div>
                    </div>
                    <div class="product-stats">
                        <div class="product-gmv">${formatCurrency(p.gmv)}</div>
                        <div class="product-orders">${p.orders} orders</div>
                    </div>
                </div>
            `).join('');

            // Top Videos Preview
            const topVideos = videos.slice(0, 3);
            document.getElementById('topVideosPreview').innerHTML = topVideos.map(v => `
                <div class="video-row" onclick="alert('Demo: This would open the TikTok video by ${v.creator}')">
                    <div class="video-thumb"><div class="video-play">‚ñ∂</div></div>
                    <div class="video-info">
                        <div class="video-creator">${v.creator}</div>
                        <div class="video-date">${v.date}</div>
                        <div class="video-stats">
                            <div><div class="video-stat-value" style="color: var(--success);">${formatCurrency(v.gmv)}</div><div class="video-stat-label">GMV</div></div>
                            <div><div class="video-stat-value">${formatNumber(v.views)}</div><div class="video-stat-label">Views</div></div>
                        </div>
                    </div>
                </div>
            `).join('');

            // GMV Chart
            const ctx = document.getElementById('gmvChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: gmvTrend.labels,
                    datasets: [{
                        label: 'GMV',
                        data: gmvTrend.data,
                        borderColor: config.color,
                        backgroundColor: config.color + '20',
                        fill: true,
                        tension: 0.4,
                        pointRadius: 0,
                        pointHoverRadius: 6,
                        pointHoverBackgroundColor: config.color
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                            backgroundColor: '#1e1f28',
                            titleColor: '#fff',
                            bodyColor: '#a0a3b1',
                            borderColor: 'rgba(255,255,255,0.1)',
                            borderWidth: 1,
                            callbacks: {
                                label: ctx => formatCurrency(ctx.raw)
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: { display: false },
                            ticks: { color: '#6b6e7a', maxTicksLimit: 7 }
                        },
                        y: {
                            grid: { color: 'rgba(255,255,255,0.05)' },
                            ticks: {
                                color: '#6b6e7a',
                                callback: v => formatCurrency(v)
                            }
                        }
                    },
                    interaction: {
                        mode: 'nearest',
                        axis: 'x',
                        intersect: false
                    }
                }
            });
        }

        function renderCreators() {
            const elite = creators.filter(c => c.tier === 'Elite').length;
            const partner = creators.filter(c => c.tier === 'Partner').length;
            const incubator = creators.filter(c => c.tier === 'Incubator').length;
            
            document.getElementById('cStatTotal').textContent = creators.length;
            document.getElementById('cStatActive').textContent = activeCreators;
            document.getElementById('cStatElite').textContent = elite;
            document.getElementById('cStatPartner').textContent = partner;
            document.getElementById('cStatIncubator').textContent = incubator;

            document.getElementById('creatorsTable').innerHTML = creators.map(c => `
                <tr style="cursor: pointer;" onclick="window.open('https://tiktok.com/${c.handle}', '_blank')">
                    <td>
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <div style="width: 36px; height: 36px; border-radius: 50%; background: var(--bg-elevated); display: flex; align-items: center; justify-content: center;">üë§</div>
                            <div>
                                <div style="font-weight: 600;">${c.name}</div>
                                <div style="font-size: 0.8rem; color: var(--accent);">${c.handle} ‚Üó</div>
                            </div>
                        </div>
                    </td>
                    <td><span class="badge ${c.tier === 'Elite' ? 'badge-primary' : c.tier === 'Partner' ? 'badge-warning' : ''}">${c.tier}</span></td>
                    <td><span class="badge ${c.status === 'Active' ? 'badge-success' : ''}">${c.status}</span></td>
                    <td>${c.videos}</td>
                    <td style="font-weight: 600; color: var(--success);">${formatCurrency(c.gmv)}</td>
                    <td>${c.orders}</td>
                </tr>
            `).join('');
        }

        function renderVideos() {
            document.getElementById('videosGrid').innerHTML = videos.map(v => `
                <div class="video-row" style="margin-bottom: 12px;" onclick="alert('Demo: This would open the TikTok video by ${v.creator}')">
                    <div class="video-thumb" style="width: 100px; height: 130px;"><div class="video-play">‚ñ∂</div></div>
                    <div class="video-info" style="flex: 1;">
                        <div class="video-creator">${v.creator}</div>
                        <div style="font-size: 0.8rem; color: var(--accent); margin-bottom: 4px;">${v.handle} ‚Üó</div>
                        <div class="video-date" style="margin-bottom: 12px;">${v.date}</div>
                        <div class="video-stats" style="display: flex; gap: 24px;">
                            <div><div class="video-stat-value" style="color: var(--success); font-size: 1.1rem;">${formatCurrency(v.gmv)}</div><div class="video-stat-label">GMV</div></div>
                            <div><div class="video-stat-value" style="font-size: 1.1rem;">${formatNumber(v.views)}</div><div class="video-stat-label">Views</div></div>
                            <div><div class="video-stat-value" style="font-size: 1.1rem;">${v.orders}</div><div class="video-stat-label">Orders</div></div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Generate financials data
        function generateFinancials() {
            // Get creators on retainer (Elite and some Partners)
            const retainerCreators = creators
                .filter(c => c.tier === 'Elite' || (c.tier === 'Partner' && seededRandom() > 0.5))
                .slice(0, 12)
                .map(c => {
                    const retainer = c.tier === 'Elite' ? 1500 : 750;
                    const roi = (c.gmv / retainer).toFixed(1);
                    return {
                        ...c,
                        retainer,
                        roi: parseFloat(roi)
                    };
                })
                .sort((a, b) => b.gmv - a.gmv);
            
            const totalRetainer = retainerCreators.reduce((sum, c) => sum + c.retainer, 0);
            const totalRetainerGmv = retainerCreators.reduce((sum, c) => sum + c.gmv, 0);
            const commissions = Math.round(totalGmv * 0.10); // 10% commission on all GMV
            const managementFee = Math.round(totalRetainer * 0.15); // 15% management fee
            const totalDue = totalRetainer + managementFee;
            const overallRoi = (totalRetainerGmv / totalRetainer).toFixed(1);
            
            return {
                retainerCreators,
                totalRetainer,
                totalRetainerGmv,
                commissions,
                managementFee,
                totalDue,
                overallRoi
            };
        }

        const financials = generateFinancials();

        function renderFinancials() {
            document.getElementById('finRetainerSpend').textContent = formatCurrency(financials.totalRetainer);
            document.getElementById('finCommissions').textContent = formatCurrency(financials.commissions);
            document.getElementById('finManagementFee').textContent = formatCurrency(financials.managementFee);
            document.getElementById('finTotalDue').textContent = formatCurrency(financials.totalDue);
            document.getElementById('finTotalGmv').textContent = formatCurrency(financials.totalRetainerGmv);
            document.getElementById('finRoi').textContent = financials.overallRoi + 'x';

            document.getElementById('retainerTable').innerHTML = financials.retainerCreators.map(c => `
                <tr>
                    <td>
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <div style="width: 36px; height: 36px; border-radius: 50%; background: var(--bg-elevated); display: flex; align-items: center; justify-content: center;">üë§</div>
                            <div>
                                <div style="font-weight: 600;">${c.name}</div>
                                <div style="font-size: 0.8rem; color: var(--text-muted);">${c.handle}</div>
                            </div>
                        </div>
                    </td>
                    <td><span class="badge ${c.tier === 'Elite' ? 'badge-primary' : 'badge-warning'}">${c.tier}</span></td>
                    <td style="font-weight: 600;">${formatCurrency(c.retainer)}</td>
                    <td style="font-weight: 600; color: var(--success);">${formatCurrency(c.gmv)}</td>
                    <td>
                        <span class="badge ${c.roi >= 3 ? 'badge-success' : c.roi >= 1.5 ? 'badge-warning' : ''}" style="font-weight: 700;">
                            ${c.roi}x
                        </span>
                    </td>
                </tr>
            `).join('');
        }

        function updateFinancialsMonth(month) {
            const monthNames = {
                '2024-12': 'December 2024',
                '2024-11': 'November 2024', 
                '2024-10': 'October 2024',
                '2024-09': 'September 2024'
            };
            document.getElementById('financialsSubtitle').textContent = monthNames[month] + ' billing summary';
            // In real version, this would reload data for that month
        }

        function renderProducts() {
            document.getElementById('productsTable').innerHTML = products.map(p => `
                <tr>
                    <td>
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <div style="width: 44px; height: 44px; border-radius: 10px; background: var(--bg-elevated); display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">${p.emoji}</div>
                            <div>
                                <div style="font-weight: 600;">${p.name}</div>
                                <div style="font-size: 0.8rem; color: var(--text-muted);">${p.sku}</div>
                            </div>
                        </div>
                    </td>
                    <td style="font-weight: 600; color: var(--success);">${formatCurrency(p.gmv)}</td>
                    <td>${p.orders.toLocaleString()}</td>
                    <td>${formatCurrency(p.avgOrder)}</td>
                    <td>${p.topCreator}</td>
                </tr>
            `).join('');
        }

        // ==================== NAVIGATION ====================
        function switchTab(tabName) {
            // Prevent default link behavior
            event?.preventDefault();
            
            // Update nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Find and activate the correct nav item
            document.querySelectorAll('.nav-item').forEach(item => {
                if (item.getAttribute('onclick')?.includes(`'${tabName}'`)) {
                    item.classList.add('active');
                }
            });

            // Update panels
            document.querySelectorAll('.tab-panel').forEach(panel => {
                panel.classList.remove('active');
            });
            
            const targetPanel = document.getElementById(`tab-${tabName}`);
            if (targetPanel) {
                targetPanel.classList.add('active');
            }
        }

        function changeDateRange(days) {
            // In demo mode, just show a toast-like notification
            const ranges = { '7': 'Last 7 Days', '30': 'Last 30 Days', '90': 'Last 90 Days' };
            console.log(`Date range changed to: ${ranges[days]}`);
            // In real version, this would reload data for the selected period
        }

        // ==================== INIT ====================
        function init() {
            // Set brand info
            document.getElementById('brandName').textContent = config.name;
            document.getElementById('userName').textContent = config.owner;
            document.getElementById('userInitial').textContent = config.name[0];
            document.title = `${config.name} - Brand Portal Demo`;

            // Set accent color
            document.documentElement.style.setProperty('--accent', config.color);
            document.documentElement.style.setProperty('--gradient-1', `linear-gradient(135deg, ${config.color} 0%, ${config.color}dd 100%)`);

            // Render all sections
            renderOverview();
            renderCreators();
            renderVideos();
            renderProducts();
            renderFinancials();
        }

        init();
    </script>
</body>
</html>
